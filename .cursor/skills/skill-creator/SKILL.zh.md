---
name: skill-creator
description: 创建高质量技能的指南。当用户想要创建新技能（或更新现有技能），以通过专用知识、工作流或工具集成扩展 Claude 的能力时使用。
---

# 技能创建器

此技能提供创建高质量技能的指导。

## 关于技能

技能是模块化、自包含的包，通过提供专用知识、工作流和工具来扩展 Claude 的能力。可以把它们理解为面向特定领域或任务的“入门指南”——它们将 Claude 从通用代理转变为具备程序化知识的专用代理，而这些知识并不是任何模型都能完全掌握的。

### 技能提供什么

1. 专用工作流 - 针对特定领域的多步骤流程
2. 工具集成 - 与特定文件格式或 API 协作的说明
3. 领域知识 - 公司特定知识、模式、业务逻辑
4. 打包资源 - 用于复杂且重复任务的脚本、参考资料和资产

## 核心原则

### 简洁是关键

上下文窗口是公共资源。技能与 Claude 需要的其他内容共享上下文窗口：系统提示、对话历史、其他技能元数据，以及用户请求本身。

**默认假设：Claude 已经非常聪明。** 只添加 Claude 不具备的内容。对每一段信息都提出质疑：“Claude 真的需要这段解释吗？”以及“这段话是否值得它的 token 成本？”

优先使用简明示例，而不是冗长解释。

### 设定合适的自由度

根据任务的脆弱性和可变性匹配指令的具体程度：

**高自由度（文本指令）**：当多种方法都可行、决策依赖上下文，或需要基于经验判断时使用。

**中等自由度（伪代码或带参数脚本）**：当存在偏好模式，允许一定变化，或配置影响行为时使用。

**低自由度（具体脚本，少参数）**：当操作脆弱且容易出错、一致性至关重要，或必须遵循特定顺序时使用。

将 Claude 想象为在探索路径：狭窄的桥梁需要具体护栏（低自由度），而开阔的田野允许多种路线（高自由度）。

### 技能的结构

每个技能都由必需的 SKILL.md 文件和可选的打包资源组成：

```
skill-name/
├── SKILL.md (必需)
│   ├── YAML 前置信息元数据 (必需)
│   │   ├── name: (必需)
│   │   └── description: (必需)
│   └── Markdown 指令 (必需)
└── 打包资源 (可选)
    ├── scripts/          - 可执行代码（Python/Bash 等）
    ├── references/       - 需要按需加载到上下文中的文档
    └── assets/           - 输出使用的文件（模板、图标、字体等）
```

#### SKILL.md（必需）

每个 SKILL.md 包含：

- **前置信息**（YAML）：包含 `name` 和 `description` 字段。这些是 Claude 用来判断是否触发该技能的唯一字段，因此描述必须清晰、全面，明确技能是什么以及何时使用。
- **正文**（Markdown）：使用技能的指令和指导。仅在技能触发后加载（如果触发）。

#### 打包资源（可选）

##### 脚本（`scripts/`）

用于需要确定性可靠性或反复编写的任务的可执行代码（Python/Bash 等）。

- **何时包含**：当相同代码需要反复编写或需要确定性可靠性时
- **示例**：`scripts/rotate_pdf.py` 用于 PDF 旋转任务
- **收益**：节省 token、确定性强、可在不加载上下文的情况下执行
- **注意**：脚本可能仍需 Claude 阅读以进行补丁或环境相关调整

##### 参考资料（`references/`）

用于按需加载到上下文中，以指导 Claude 过程和思考的文档与参考材料。

- **何时包含**：当 Claude 工作时需要参考文档
- **示例**：`references/finance.md` 用于财务模式，`references/mnda.md` 用于公司 NDA 模板，`references/policies.md` 用于公司政策，`references/api_docs.md` 用于 API 规范
- **用途**：数据库模式、API 文档、领域知识、公司政策、详细工作流指南
- **收益**：保持 SKILL.md 精简，仅在 Claude 需要时加载
- **最佳实践**：如果文件较大（>1 万字），在 SKILL.md 中包含 grep 搜索模式
- **避免重复**：信息应只放在 SKILL.md 或 references 文件之一，而不是两者。除非确实是技能核心内容，否则优先放在 references，以保持 SKILL.md 精简并可被发现而不占用上下文。SKILL.md 仅保留核心流程与工作流指导；将详细参考材料、模式和示例移至 references 文件。

##### 资产（`assets/`）

不打算加载到上下文中，而是用于最终输出的文件。

- **何时包含**：当技能需要文件用于最终输出时
- **示例**：`assets/logo.png` 用于品牌资源，`assets/slides.pptx` 用于 PowerPoint 模板，`assets/frontend-template/` 用于 HTML/React 样板，`assets/font.ttf` 用于字体
- **用途**：模板、图片、图标、样板代码、字体、示例文档等，供复制或修改
- **收益**：将输出资源与文档分离，使 Claude 可使用文件而不必加载到上下文中

#### 不应包含的内容

技能只应包含直接支撑其功能的必要文件。不要创建多余的文档或辅助文件，包括：

- README.md
- INSTALLATION_GUIDE.md
- QUICK_REFERENCE.md
- CHANGELOG.md
- 等

技能应只包含 AI 代理完成任务所需的信息。不应包含创建过程的附加背景、安装测试步骤或面向用户的文档等。多余文档只会增加混乱。

### 逐步披露设计原则

技能采用三层加载系统，以高效管理上下文：

1. **元数据（name + description）** - 总是在上下文中（约 100 字）
2. **SKILL.md 正文** - 触发技能时加载（<5000 字）
3. **打包资源** - 需要时加载（由于脚本可执行，实际上不受上下文限制）

#### 逐步披露模式

保持 SKILL.md 正文为必需内容且少于 500 行，以减少上下文膨胀。当接近该上限时，将内容拆分到单独文件。拆分后必须在 SKILL.md 中引用并清晰说明何时阅读这些文件，以便使用者知道其存在与用途。

**关键原则：** 当技能支持多种变体、框架或选项时，SKILL.md 仅保留核心工作流和选择指导。将特定变体的细节（模式、示例、配置）移至单独参考文件。

**模式 1：高层指南 + 参考**

```markdown
# PDF 处理

## 快速开始

使用 pdfplumber 提取文本：
[代码示例]

## 高级功能

- **表单填写**：参见 [FORMS.md](FORMS.md) 的完整指南
- **API 参考**：参见 [REFERENCE.md](REFERENCE.md) 的所有方法
- **示例**：参见 [EXAMPLES.md](EXAMPLES.md) 的常见模式
```

Claude 仅在需要时加载 FORMS.md、REFERENCE.md 或 EXAMPLES.md。

**模式 2：按领域组织**

对于支持多个领域的技能，按领域组织内容以避免加载无关上下文：

```
bigquery-skill/
├── SKILL.md（概览与导航）
└── reference/
    ├── finance.md（收入、计费指标）
    ├── sales.md（机会、管道）
    ├── product.md（API 用法、特性）
    └── marketing.md（活动、归因）
```

当用户询问销售指标时，Claude 只读取 sales.md。

类似地，对于支持多个框架或变体的技能，可按变体组织：

```
cloud-deploy/
├── SKILL.md（工作流 + 供应商选择）
└── references/
    ├── aws.md（AWS 部署模式）
    ├── gcp.md（GCP 部署模式）
    └── azure.md（Azure 部署模式）
```

当用户选择 AWS 时，Claude 只读取 aws.md。

**模式 3：条件细节**

展示基础内容，并链接到高级内容：

```markdown
# DOCX 处理

## 创建文档

使用 docx-js 创建新文档。参见 [DOCX-JS.md](DOCX-JS.md)。

## 编辑文档

简单编辑可直接修改 XML。

**对于修订**：参见 [REDLINING.md](REDLINING.md)
**对于 OOXML 细节**：参见 [OOXML.md](OOXML.md)
```

Claude 只在需要时阅读 REDLINING.md 或 OOXML.md。

**重要指南：**

- **避免深层嵌套引用** - 参考文件与 SKILL.md 只隔一层。所有参考文件都应从 SKILL.md 直接链接。
- **结构化较长参考文件** - 对于超过 100 行的文件，在顶部加入目录以便预览时查看全貌。

## 技能创建流程

技能创建包含以下步骤：

1. 通过具体示例理解技能
2. 规划可复用的技能内容（脚本、参考资料、资产）
3. 初始化技能（运行 init_skill.py）
4. 编辑技能（实现资源并编写 SKILL.md）
5. 打包技能（运行 package_skill.py）
6. 基于实际使用迭代

按顺序执行这些步骤，除非有明确理由不适用才可跳过。

### 第 1 步：通过具体示例理解技能

仅当技能使用模式已经非常清晰时才可跳过此步骤，即便在编辑已有技能时也很有价值。

为了创建有效技能，需要明确具体的使用示例。这些示例可以来自用户提供，或由你生成并通过用户反馈验证。

例如，构建图像编辑技能时，相关问题包括：

- “图像编辑技能应支持哪些功能？编辑、旋转、还有什么？”
- “能给一些使用该技能的示例吗？”
- “我可以想象用户会说‘去除红眼’或‘旋转图片’之类的话，还有其他用法吗？”
- “用户会说什么样的话来触发这个技能？”

为避免让用户负担过重，不要在一条消息中询问过多问题。先问最重要的问题，必要时再追问，以提高技能效果。

在对技能需要支持的功能有清晰认识后，结束此步骤。

### 第 2 步：规划可复用的技能内容

要将具体示例转化为有效技能，请对每个示例进行分析：

1. 考虑如何从零开始完成该示例
2. 识别哪些脚本、参考资料和资产有助于反复执行这些工作流

示例：在构建处理“旋转 PDF”请求的 `pdf-editor` 技能时，分析表明：

1. 旋转 PDF 需要反复编写相同代码
2. 将 `scripts/rotate_pdf.py` 脚本放入技能会有帮助

示例：在设计处理“构建待办应用”或“构建步数追踪仪表盘”的 `frontend-webapp-builder` 技能时，分析表明：

1. 编写前端 Web 应用需要反复使用相同的样板
2. 将 `assets/hello-world/` 模板项目存入技能会有帮助

示例：在构建处理“今天有多少用户登录”的 `big-query` 技能时，分析表明：

1. 查询 BigQuery 需要每次重新发现表结构与关系
2. 将表结构文档保存到 `references/schema.md` 会有帮助

要确定技能内容，应分析每个具体示例，列出应包含的可复用资源：脚本、参考资料和资产。

### 第 3 步：初始化技能

此时应实际创建技能。

仅当技能已经存在且需要迭代或打包时才可跳过此步骤。此时直接进入下一步。

当从零创建新技能时，始终运行 `init_skill.py` 脚本。该脚本会生成包含技能所需内容的模板目录，使创建过程更高效且可靠。

用法：

```bash
scripts/init_skill.py <skill-name> --path <output-directory>
```

该脚本会：

- 在指定路径创建技能目录
- 生成包含正确前置信息与 TODO 占位的 SKILL.md 模板
- 创建示例资源目录：`scripts/`、`references/`、`assets/`
- 在每个目录中创建可定制或删除的示例文件

初始化后，根据需要自定义或删除生成的 SKILL.md 和示例文件。

### 第 4 步：编辑技能

在编辑（新生成或已有）技能时，请记住该技能是为另一个 Claude 实例准备的。包含对该实例有帮助且不明显的信息。考虑哪些过程性知识、领域细节或可复用资产能让该实例更高效地完成任务。

#### 学习已验证的设计模式

根据技能需要参考以下指南：

- **多步骤流程**：参见 references/workflows.md，了解顺序流程与条件逻辑
- **特定输出格式或质量标准**：参见 references/output-patterns.md，获取模板与示例模式

这些文件包含有效的技能设计最佳实践。

#### 从可复用内容开始

实现时先从已识别的可复用资源入手：`scripts/`、`references/`、`assets/`。此步骤可能需要用户输入。例如实现 `brand-guidelines` 技能时，用户可能需要提供品牌资产或模板存放于 `assets/`，或提供文档存放于 `references/`。

新增脚本必须实际运行测试，确保无 bug 且输出符合预期。如果有多个类似脚本，测试其中代表性脚本即可，以在完成时间与信心之间平衡。

不需要的示例文件和目录应删除。初始化脚本会创建示例文件以演示结构，但多数技能并不需要全部示例。

#### 更新 SKILL.md

**写作指南：** 使用祈使/不定式形式。

##### 前置信息

使用 `name` 和 `description` 编写 YAML 前置信息：

- `name`：技能名称
- `description`：技能的主要触发机制，帮助 Claude 理解何时使用该技能。
  - 同时包含技能用途和使用场景触发词
  - 把所有“何时使用”信息放在这里，而不是正文。正文仅在触发后加载，因此正文中的“何时使用此技能”不会帮助触发。
  - `docx` 技能描述示例：“全面的文档创建、编辑与分析，支持修订、批注、格式保持和文本抽取。用于 Claude 需要处理专业文档（.docx）时：(1) 新建文档，(2) 修改或编辑内容，(3) 处理修订，(4) 添加批注，或任何其他文档任务。”

不要在 YAML 前置信息中包含其他字段。

##### 正文

编写技能及其打包资源的使用说明。

### 第 5 步：打包技能

当技能开发完成后，必须打包为可分发的 .skill 文件，以便分享给用户。打包过程会自动验证技能，确保满足要求：

```bash
scripts/package_skill.py <path/to/skill-folder>
```

可选输出目录参数：

```bash
scripts/package_skill.py <path/to/skill-folder> ./dist
```

打包脚本将：

1. **自动验证** 技能，检查：
   - YAML 前置信息格式与必填字段
   - 技能命名约定与目录结构
   - 描述完整性与质量
   - 文件组织与资源引用
2. 若验证通过则 **打包** 技能，生成以技能命名的 .skill 文件（如 `my-skill.skill`），包含全部文件并保持正确目录结构。.skill 文件实际上是带 .skill 后缀的 zip 文件。

如果验证失败，脚本将报告错误并退出，不会生成包。修复验证错误后重新运行打包命令。

### 第 6 步：迭代

测试技能后，用户可能会提出改进建议，通常发生在使用技能后且上下文仍然新鲜时。

**迭代工作流：**

1. 在真实任务中使用技能
2. 发现困难或低效
3. 识别 SKILL.md 或打包资源需要更新的地方
4. 实施更改并再次测试
